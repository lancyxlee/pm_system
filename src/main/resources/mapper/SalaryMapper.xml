<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="edu.cqut.pm_system.dao.DeptSalaryDao">
	<!--设置domain类和数据库中表的字段一一对应，注意数据库字段和domain类中的字段名称不致，此处一定要！-->
	<resultMap id="DeptSalaryMap" type="edu.cqut.pm_system.entity.DeptSalary">
		<id column="salarysetid" property="salarysetid" jdbcType="VARCHAR" />
		<result column="deptnum" property="deptnum" jdbcType="VARCHAR" />
		<result column="basesalary" property="basesalary" jdbcType="DOUBLE" />
		<result column="role" property="role" jdbcType="INTEGER" />
	</resultMap>
	<resultMap id="DeptMap" type="edu.cqut.pm_system.entity.Dept">
		<id column="did" property="did" jdbcType="VARCHAR" />
		<result column="deptname" property="deptname" jdbcType="VARCHAR" />
		<result column="deptnum" property="deptnum" jdbcType="VARCHAR" />
		<result column="tel" property="tel" jdbcType="VARCHAR" />
	</resultMap>

	<insert id="addDeptSalary" parameterType="edu.cqut.pm_system.entity.DeptSalary">
        INSERT INTO salary_set
        VALUES
	    (#{salarysetid, jdbcType=VARCHAR}, #{deptnum, jdbcType=VARCHAR}, #{basesalary, jdbcType=DOUBLE}, #{role, jdbcType=INTEGER})
    </insert>
	
	<delete id="deleteDeptFromId">
		DELETE
		FROM
			salary_set
		WHERE
			salary_set.deptnum = #{deptnum}
	</delete>
</mapper>